> 아래 120시간 이라고 써놓은 것들은 150시간으로 밀릴 수도 있겠다.

### 1. 스크래핑 (120시간)
- 스크래핑할 대상(웹사이트, 유튜브 채널 혹은 카테고리) 선정
	- 웹: 레딧
	- SNS: 틱톡, 인스타(봇에 민감하다고 들음)
- 스크래핑 후 저장할 결과물 형태 정하기 (DB에 쌓을 내용) : reddit 댓글도 긁으면 좋다. reddit 이 sns랑 비슷하다. 페이스북 같은 느낌이라, sns 크게 두개정도로 나눠서 sns 외에 레딧 메타 한 타입, 틱톡이나 인스타 한 타입. 웹은 그냥 구글로 지정합시다. 그리고 한가지 더, 웹 sns 또 다른 타입은 미디어 플랫폼, 스트리밍 플랫폼이라고 해서 스트리밍 플랫폼이라고 합시다. 거기는 유튜브 넷플릭스 이렇게 넣으면 될 것 같아요. 이렇게 세가지 타입에 대해서 최소한 한가지씩만. 그리고 여유가 된다면 틱톡도 하는게 좋아요. 틱톡은 중국쪽이고 인스타는 미국의 기반이 많은데 세 타입중 꼭 하나만 해야한다면 일단 미국쪽 먼저. X도 최근에 좋은듯 SNS 로. 광고같은거 스레드에 좀 많이 몰리고. ~~메타(facebook) <- SNS 1순위.~~ 레딧으로 할까요? 레딧으로 하고싶은 이유가 있냐... 레딧으로 갑시다. SNS 는 레딧으로 하고, 웹은 구글로 하고, 남은 하나가 유튜브죠. 넷플릭스는 시간이 되면 하고 유튜브로 결정하면 될 것 같습니다. 막상 하다보면 120시간 스크래핑 넘어갈 수도 있어요. 어떻게 해야되냐면, (이건 정해줄거다 어떤 데이터) 1; 뉴스, 기사 2;일상, 3; 트렌드 4; 병원 의약 헬스 이렇게 네가지 중에 하나 선택하면 레딧 들어가서 뉴스들만 쫙긁어오는거에요. 이렇게 기능을 짜면 되요. 그러면 일단 뉴스 먼저 하나 시도해봐야겠죠. 이게 뉴스인지 아닌지는 크롤링 돌아다니는건 그냥 뎁스별로 타고, 한 페이지에 링크가 두개 있었어요. 그러면 깊이우선으로 타고 가도 되고, 너비우선으로 타고 가도 되요. 그거는 자료구조 잘 만드실거니까. 그런데 여기서 깊이우선이냐 너비우선이 유리할까? SNS 플랫폼 구조를 보면 깊이가 내려가는건 다른 형태의 문서로 넘어가는거에요. 페이스북의 친구도 하나 건너띌수록 1234촌 이렇게 되는 것처럼. 일단 여기서 너비 우선을 하되, 그 밑에 내려갔는데 없으면 다시 돌아와야겠죠. 이게 기사냐 아니냐를 어떻게 판단할거냐, 이걸 로컬에서 돌릴 수 있는 모델이 있어요 LLM. 8기가만 되도 돌릴수 있는거 openai 가 공개한거 하나 있는데, GPT-OSS 에 두종류가 있다. 20B랑 120B. 20B는 16기가 가능하다. 3050ti 1060. 아니면 LLAMA 7B 짜리 있다. 그래서 20B를 CPU 에서 돌릴 수 있게 만들어볼까? 그런데 트랜스포머 기반이라.... https://huggingface.co/microsoft/BitNet-b1.58-2B-4T 아니면 https://huggingface.co/HF1BitLLM/Llama3-8B-1.58-100B-tokens 이거 둘중 하나 쓰기. 이거는 CPU랑 램만 먹는다. 공유GPU 메모리 줄여야한다. BIOS 들어가면 500mb 부터 1기가..... 쭉 선택할 수 있는데, 그거를 한 500MB 나 1GB 로 줄여도 된다. 모델이 공유GPU로 들어가는 순간 그냥 외장 GPU 쓰는것보다 최소 100배 느려진다. 공유GPU 메모리가 RAM 을 강제로 먹는거다. 커밋됨<- 이게 가상 메모리다. 사용 중(압축)이거 물리적 메모리. 5기가 정도는 하드디스크에서 램으로 왔다갔다 하는중. 그래서 HDD 왔다갔다 하는 순간 BITNET 도 엄청 느려진다. 10000배 이상. BITNET 이냐 LLAMA3 을 BIT 버전으로 바꾼걸 쓸거냐. 엔진만 바꿀 수 있게 그렇게 만들고, 그냥 물어보고 답변 넣는거니까, 공용으로 설계 해놓고 둘다 넣어봐서 좋은걸로 테스트 해봐서 결정해라. 엔진은 항상 바뀔거니까 뭐든 넣을 수 있게. 그리고 우리 아키텍처를 Microservice 로 만듭시다. kubernates 크롤 프로세스 자체를 쿠버네티스 1에 띄워요. 아까 엔진 있죠. 긁어서 텍스트 보내줄거잖아요. 엔진 들어가는 부분을 k8s 2에 띄워요. 그래서 그 둘을 통신을 하는거죠. 이게 나중에 확장성이 늘어났을 때 범용성 대응성이 가장 좋아요. 쿠버네티스는 도커랑 상관이 없다. 쿠버네티스는 쿠버네티스 만의 pod 만든다. 그 안에다가 도커 컨테이너를 띄울 수 있고 하나의 pod 안에 도커 컨테이너 안에 여러개 띄울 수 있다. 아니면 VM 하단에 그거를 띄워도 된다. kvm 띄워도 되고. 그래서 우리는 k8s 기반으로 마이크로서비스 아키텍처를 베이스로 하는 형태로 만들면 되겠다. k8s의 도커대비 장점: 컴퓨터가 두개면 25 25 로 나눈다고 하면 네트워크 통신 다시 뚫어줘야 한다. 설정 바뀌고. 그래서 갯수가 늘어났다거나 원격에서 실행됐을 때도 대응할 수 있다. 도커 컨테이너는 운영체제 독립되기 위한거라면, k8s 의 파드는 운영체제가 아니라 베어메탈이라고 부르는 진짜 물리적 컴퓨터 거기서 부터 독립이 될 수 있어요. 대신 오버헤드는 있는데 얼마 없어요. 베어메탈에서 분리된다고 함은 x86 컴퓨터 있죠, 그거 한 대와 엔터프라이즈급 유닉스 서버가 있어요. 거기 컨테이너 작동 방식 사실 운영체제마다는 독립시켰으니까 컨테이너 둘 다 띄울 수 있어요. 그런데 그 밑단에 이 두개를 묶으려면 물리적으로 이 두개를 묶으려면 컨테이너로는 방법이 없다. 컨테이너로 서버 두대에 컨테이너 하나인데 하나 50% 50% 이게 안된다. pod 는 이게 된다. pod 를 만들어서 이 두개를 하나 처럼 쓸 수 있다. 그래서 베어메탈의 독립이 시작이 되는거다. 쿠버네티스 공부 먼저 하고 갑시다. 쿠버네티스 책 하나 남겨줄게요. 파고 들면 cloud system engineer 쪽이라 오래 걸리는데 80 시간 정도면 개발하는데 문제 없을 정도다. 쿠버네티스는 쿠다에다 그래픽카드에다가 직접 명령을 내릴 수 있다. cuda 쓸 때 운영체제에서 명령 내리면 성능이 50%는 떨어진다. 가상화 거쳐서 실제 하드웨어 OS 거쳐서 내려가니까. 그런데 k8s 잘 쓰면 운영체제를 거쳐가는 길이 하나 더 만들어진다. 진짜 native os 에서 보내는거랑 똑같아진다. 쿠버네티스는 윈도우에서 설치해도 되고, 리눅스에서 설치해도 되는데, 윈도우 위에 WSL 위에 운영체제는 여러가지 있는데 ubuntu 로 가자. 엔터프라이즈 버전 쓰면 로키나 레드햇 쓸 수도 있기는 한데 기능이 몇개 지원이 안된다. 윈도우 위의 WSL 걔가 path throuth 기능을 가진 애다. k8s 는 베어메탈 독립. mac 에 VM 깔수도 있긴 하다. 그거는 path through 가 안된다. 그래서 cuda 활용이 안된다. 윈도우 WSL 조합이 제일 좋다. 그러면 성능 loss 가 10% 밖에 안난다. k3s 는 경량화하기 위해서 만들어진거, k9s 는 config as code(코드로 관리할 필요 없이 Gui 로 관리할 수 있는 장점이 있음.) 우리는 k8s 쓸거다. k9s 는 관리하기 좀 더 쉬워지긴 했는데 우리는 k8s 쓴다. ubuntu 는 24.04.1로 가자. 윈도우가 리눅스 커널 건들다보니까 실제 LTS 보다 늦다. 그리고 kubernates 버전은 1.31 로 맞추자. **윈도우 wsl 2 ubuntu 24.04.01 (jammy) k8s 1.31.11** 
- 구현
##### Q&A
- 스크래핑이라기 보다는 토픽 모델링 둘중 뭐가 더 프로젝트 목표에 맞지? https://sooupforlee.tistory.com/entry/Textom%EC%9C%BC%EB%A1%9C%ED%95%98%EB%8A%94-%EC%9B%B9-%EC%8A%A4%ED%81%AC%EB%9E%98%ED%95%91-Big-data-%EB%B6%84%EC%84%9D-2 : 스크래핑은 단순히 그냥 가지고 오는걸 말한다. 그런데 토픽 모델링은 가지고 온걸 가공을 하는거다. 우리는 bitnet 한테 시킬거다. 스크래핑해서 bitnet 에게 타입 결정해주고 타이틀 달아줘. 이런 형태로. 그리고 타입도 몇가지는 명시 해줘야겠죠. 아깐 말한 4가지... 이거는 예시고. 이정도 타입중에 어느 타입인지 물어봐라. 그 중에 적합한걸 해줄거고. MCP가 지원 되게 하려면 MCP 는 또 서버 클라이언트 구조를 띄고 있다. 스크래핑이 POD 가 호스트고, 오른쪽 POD 에 클라이언트, 서버 이렇게 만들어도 되겠고... MCP 하면 질문 던지는 쪽에 클라이언트 하나 설치해야한다. MCP 서버는 우리 모델 넣는 POD 에 있어야 될거고. 이렇게 하면 되겠네요. MCP 구현체가 python 개발 킷이 있고 자바 코틀린 타입스크립트 있으니까 뭐로... MCP JAVA SDK 받기 편하다. 백엔드 몸통은 JAVA 로. MCP client 는 Node.js, TS 파일 실행할 수 있는 모듈, 패키지가 있다. `npm install ts-node` 로 설치. 커맨드 `ts-node scriptname.ts`
```
생활·라이프스타일ﾠ여행 후기, 맛집 리뷰, 인테리어 아이디어, 가정·육아 팁  
금융·경제ﾠ주식 시세, 투자 리포트, 가계부 샘플, 금융 상품 비교  
제품소개·쇼핑ﾠ전자제품 사양, 패션 아이템 리뷰, 신제품 출시 정보, 가격비교  
뉴스·미디어ﾠ시사 뉴스, 연예 소식, 지역 뉴스, 인터뷰 기사  
교육·학습ﾠ온라인 강의, 교과서 요약, 문제 풀이, 학습 자료 다운로드 링크  
소셜·커뮤니티ﾠ블로그 포스트, 포럼 토론, Q&A 게시글, SNS 피드  
엔터테인먼트ﾠ드라마·영화 줄거리, 음악 차트, 게임 공략, 웹툰·소설 연재  
기술·ITﾠ프로그래밍 튜토리얼, 소프트웨어 문서, API 레퍼런스, IT 뉴스  
건강·의학ﾠ운동법 영상, 다이어트 식단표, 질병 정보, 의료 논문 요약  
스포츠·레저ﾠ경기 결과, 선수 인터뷰, 장비 리뷰, 레저·취미 가이드  
음식·요리ﾠ레시피, 조리법 영상, 식재료 비교, 음식 트렌드 분석  
패션·뷰티ﾠ스타일링 팁, 메이크업 튜토리얼, 뷰티 브랜드 리뷰, 패션 트렌드  
자동차·교통ﾠ차종 비교, 시승기, 교통 정보, 유지비 계산기  
부동산·주거ﾠ매물 정보, 임대·매매 팁, 집 꾸미기 아이디어, 인테리어 자재 소개  
과학·연구ﾠ학술 논문 요약, 실험 데이터, 연구 동향 보고서, 학회 발표 자료  
예술·문화ﾠ전시회 안내, 미술 작품 감상평, 공연 일정, 문화재 정보  
환경·에너지ﾠ기후 변화 리포트, 재생에너지 사례, 친환경 생활 가이드  
정부·공공ﾠ정책 자료, 통계 데이터, 공공 서비스 안내, 법령·규제 해설  
비영리·사회공헌ﾠNGO 보고서, 자원봉사 정보, 사회문제 사례 연구, 기부처 소개

이 스크래핑한 문서를 이 리스트에 가장 적합한 하나로 분류할거야. 왼쪽 카테고리와 오른쪽 세부 카테고리로 분류하되 이 것보다 더 좋은 분류 기준이 있으면 새로운 카테고리 or 세부 카테고리를 하나 만들어서 분류해도 되.
```
- 긁어온 글을 동영상 생성 AI 에 넣었을 때 별 맥락없어보이는건 알아서 걸러야하나? 그냥 다 집어넣는게 나으려나? 글이 아니라 핫한 토픽정도는 그냥 전송해도 되려나? 이미지는 그냥 무시할까? : 이미지는 같이 넣을 필요가 있다. bitnet 에 들어가지는 않는다. 이거는,
- 
- 재혁님이 한번 나눠서 해보자. image binary 파일(jpg, png... 등등을 rgb 비트맵으로 바꾼다. 이 비트맵의 파일 16진수로 읽을 수 있는데, 그 값을 한 번 넣어봐라. 이걸 텍스트라고 생각하고, 그러면 프롬프트를 jpg, png -> bitmap 파일 16진수를 텍스트라 생각하고 bitnet에 입력하면서  'bitmap 16진수 ... 이걸 해석해줘' 2048 토큰. bitnet 에 4096 바이트밖에 못 넣는다. 픽셀 하나에 3byte 쓴다. 약 1300 픽셀 정도. 정방형이라고 한다면 36 x 36 그림밖에 못 넣는다. 그러니까 사이즈를 한 번 줄인 다음에 넣어야겠죠. 재혁님 opencv 잘 하잖아요. 30 x 30 으로 바꿔서 넣고, 이걸 재혁님이 생각 해보세요. 1행 2행 3행 4행, 1 2 3 4열 이렇게도 넣어보고. 어떤게 결과 좋은지 확인하고. 대각선으로도 해보고. 찾아보되 연결은 되야한다. 프롬프트 더 좋은게 있으면 찾아보고. bitnet 이 기본적으로 chain of thought 안 하는 친구. 그래도 혹시 모르니 다음 프롬프트 넣어봐라 "추론은 순차적으로 진행해" <- 메타 프롬프트로, 어떤 질문 하기 전에 넣어야함.) 세부 카테고리 추가 하라는거 해봐도 되고 안해봐도 되고, 한번 해보자. 
- 
- 모델 이거 쓰자: https://huggingface.co/facebook/timesformer-base-finetuned-k400 이걸로 동영상을 벡터화 할 수 있다. 이 모델에 집어넣기만 하면 된다. 
- 동영상 길이는 어느정도가 적당? : 전체 다. 30분짜리면 30분. 모델 하나 찾아보겠다. 
- 스크래핑 결과물은 애자일처럼 결과물의 질이나 조회수에 따라 계속 변경해나가야 할듯?

---

> 백엔드 & DB 랑 벡터화 둘이 작업 순서는 바뀔수도 있음
### 2. 백엔드 & DB (120시간)
- 백엔드 프레임워크 선정 (Flask, Django or FastAPI) : 기본적인 백엔드는 JAVA 로 간다 Spring-Boot 프레임워크 <- 정확히는 관리자 페이지를 위한 백엔드. 그리고 클라이언트랑 닿는 부분. 로드밸런싱 하는 파드 만들어야 될지도. 제일 좋은건 관리자 페이지 서버에 클라이언트 접속하는 백엔드로도 만들면 뚫릴수도 있다. 이거는 분리를 할게요. 지금 말하는 백엔드는 관리자 페이지 서버, 클라이언트 접속 서버. (둘 다 각기의 파드 안에) 원래라면 로드밸런싱이랑 APP 은 나뉘게 되어있따. AWS 가 MSA 형태로 클라우드를 다 구성해놨다. 기본적으로는 두개를 나눈다. 두개 나누자. 로드밸런싱에는 어떤 툴이나 프레임워크를... 일단 모든 POD 의 사용량을 넘겨주면 된다. 밸런싱은 실제로 다른 POD 이랑 통신할 때는 밸런싱에 넘겨주면 되요. 밸런싱 모니터링도 둘이 나눈다. 밸런싱은 받아서 모니터링에 물어보고.... 관리자 클라이언트 백엔드는 자바로. 모니터링은 그냥 Grafana 로 처리할 수 있을 것 같은데. 모니터링은 프로메테우스 + 그라파나. 밸런싱은 파드끼리 통신 필요하면 (HTTP인 7Layer 가 필요하면) L7 http  -> NGINX ingress. POD 끼리 포트 통신 가능. L4 를 쿠버네티스에서 관리해서, 쿠버네티스 기능 쓰면 된다. 쿠버네티스를 깔면 WSL 위에 POD 이 여러개 깔려있는 형태라고 한다면 WSL 에 k8s 을 깐다. 여기에 설정을 해야겠다. 그 설정이 L4 로드밸런서가 될 수 있다. 쿠버네티스가 L4 관리를 한다. L4 -> k8s service. 나중에 L7을 써야될수도 있으니까 밸런싱서버 만드는거고, POD들이 L4만 쓴다면 k8s service 로 해결됨. MCP 는 L4다. 
- DB 선정 (MongoDB or ElasticDB). (아마 MongoDB 로 갈듯, ElasticDB 알아는 보기): RDBMS 랑 몽고디비 두개 써야할듯. RDBMS 는 MySQL 쓰자. 몽고디비에 들어가는 비정형 데이터는 이제 생각을 해보자. 다음에 결정을 해보자.
- DB 관련 설정 (튜닝, 보안, 계정 및 권한 등)
- 구현

![[Pasted image 20250812221934.png]]

##### Q&A
- RDBMS 가 아니라 비정형 db 인 mongoDB 를 쓰는 이유는?

### 3. 벡터화 (120시간)

> 참고논문: https://www.dbpia.co.kr/journal/articleDetail?nodeId=NODE09874823

> 벡터화 하라는건 영상만 벡터화 하라는거겠지? 소리는 아니고? 내가 이해한게 맞다면 영상을 프레임별로 나눠서 벡터화 시킨 다음에 저장하라는것 같다. 맞나? 프레임은 60fps? 30fps? : (timesformer 쓰던가) timesformer 는 서류입력이 안된다. 영상이랑 소리는 일단 분리해서 파일로 떨어트려놓고. 영상을 timesformer 에 넣고, 소리는 소리를 입력하는 모델이 잘 없다. 일단 텍스트로 바꾸고 LLM 에 넣는 방향으로 가자. 텍스트로 바꾸거나 요약하는 것 중에 신뢰성 있게 사용할 수 있는게 아래 중에 재혁님이 고르기.
> RED:  
1. bitnet  
2. timesformer  
3. whisper-large-v2  
4. Conv-TasNet(노이즈 제거)  
5. spleeter-5stems(음악 소리)  
6. **pegasus-large**
> 배경음악은 어떻게? 배경음 자체가 주된 컨텐츠들 있잖아요. 배경음이 noise 인게 있고 noise 가 아닌게 있다. noise 면 분리하고, noise 가 아닌 것 중에 음악이 있고, 여러가지 자연 소리 있을 수 있고. 프레임의 제작 툴을 보면 어느 정도 위치에 음성을 넣고 중간 중간의 효과음에 편집하는 식으로 하는데, 이걸 응용해서 분리시키거나 하는 방법이 있으면 도움이 될 것 같다는 재혁님의 의견. 지금 그런 rule base 의 알고리즘은 일단 안짜는 방향인데.. 그럼 애초에 영상을 다 찍을 수 밖에 없겠는데.. 이거는 재혁님의 일이죠. 그러면 영상을 우리가 가져와서, 그대로 쓰는거냐? 아니면 2차 가공을 하냐? 지금 왜 이걸 하냐면, 카테고리 분류만 잘 되면 되요. 카테고리 분류가 잘 되면, 그 카테고리 별로 생성이 가능한 모델을 학습을 시키겠죠. 학습할 데이터 계속 가져와서 모델에게 학습한 다음, 모델이 계속 동영상을 찍어낸다. 벡터화 일단은 재혁님 모델에 그냥 동영상 데이터 전달하면 된다 내 역할은. 동영상 그대로 전달하냐, 아니면 SVG 같은 형태로 간략하게 만들어서 전달하냐? 이에 대한 답은... bitmap 형태로 넣어야 한다. 사이즈는 224 x 224. bitmap 은 RGB 별로 픽셀 별로 있다. 적절하게 224 224 로 만들어서 넘기면 되겠다.

> 참고 리포: https://github.com/visioncortex/vtracer (한 프레임당 얼마나 벡터화를 성공 시킬 수 있을지가 관건일듯)
> 사용 가능한 C# 라이브러리: https://products.aspose.com/svg/net/image-vectorization/

https://huggingface.co/facebook/timesformer-base-finetuned-k400 : 영상을 넣으면 분류하는데 쓸거임. 이 모델이 작동하는 방식은 SVG 로 바꾸는건 아니구요, 특정한 연산을 해서 어떤 리스트의 값들을 해서 그걸로 바꾼 다음에 그것들을 이어붙여서, 이건 어떤 분류야. 까지 이 모델 안에 포함이 되어 있다. 시간이 되면 이 모델 뜯어볼 수 있는데, 각 프레임별로 어떤 연산을 취했고, 각 프레임의 결과를 또다시 연산해서 하나의 벡터로 만든 다음에, 그걸 가지고 분류를 했을 건데, 이 두가지 연산. 프레임 연산, 프레임들간의 aggregation 한 연산. 이거를 시간날 때 역분해 하면 찾아낼 수 있을거에요. 

#### 4. 관리자 페이지 (50시간)
기능들 생기고 나면 결정
1. 크롤 스타트
2. 크롤 진행상황
3. 등등

---
##### POD들
밸런서  
모니터  
관리자백엔드  
클라이언트백엔드  
크롤&스크래핑 백엔드  
모델 백엔드-MCP  
  BitNet  
  TimesFormer  
  etc ..

# 평균이란?


막연하게 (전체 데이터 값의 합 / 전체 데이터의 개수의 합) 으로만 이해하던 평균이 

'**왜 전체 합에서 전체 개수를 나는 것을 평균이라고 하는가?**' 란 의문을 품게 되었다.

평균을 단순히 **거리**로만 접근을 했기 때문에, 평균을 구한다 한들 

각 편차(평균으로부터 각 데이터들의 거리) 는 달라지는 게 없어 보였기 때문이다

단순히 각 데이터가 0 을 기준으로 각각의 거리를 갖던 것을, 

하나의 동일 값을 기준으로의 거리로 바뀐 것 말곤 무엇을 의미하는지, 왜 전체 합과 전체 갯수인지에 대한 의문이 생겼다

##### 보편적인 평균 식
## $$\bar{x}=\frac{1}{N} \sum_{i}^{N} x_{i}$$
##### 평균에서의 가중치
## $$  w_{i} \stackrel{\mathrm{def}}{=} \frac{1}{N} $$
- 평균에서의 '단순' 가중치의 합
#### $$\sum_{i=1}^{N} w_{i} = \sum_{i=1}^{N} \frac{1}{N} = \bigg(\frac{1}{N} + \frac{1}{N} + \cdots +\frac{1}{N}\bigg) = \frac{1}{N} \cdot N  = 1 $$

## 평균 = 데이터들의 무게 중심

결론적으론 평균은 **데이터들의 각 질량(또는 무게)의 <중심점(또는 균형점)**>이다. 

이는 물리학적으로 데이터들을 접근한 방법으로

#### 17세기 - 뉴턴

- 태양 - 지구 - 달이 서로 힘을 주고 받으면, 그 전체계(System)은 어떤 한 점을 중심으로 운동한다는 주장을 케플러 법칙과 만유인력 법칙을 결합하여 설명함
- 그 점을 < 공통 무게 중심 > 이라고 정의함
- 케플러의 제2법칙 <면적법칙>이 < 공통 무게 중심> 에 대해서도 성립함을 **기하학으로 증명**
	- 단, 뉴턴은 중력의 비례성을 토대로 정의하였기 때문에, '중력'이 작용하는 '무게'가 증명의 기본 전제가 되었음

#### 18세기 - 오일러 & 장 르 롱 달랑베르

- 미적분과 해석기하학의 발전으로 뉴턴의 기하학적 개념을 **대수적 $\cdot$ 해석학적 형태**로 바꾸려 하였음
- 뉴턴의 <무게 중심> 은 천체계에서는 잘 적용되었으나, 해당 정의를 일반화 시키려고 하니
   강류역학, 유체역학, 다입자계에선 적용이 되지 않는 부분이 존재함
- ##### Euler(오일러)
	- 다입자계의 운동을 분석하면서 '질량 가중 평균' 이라는 개념을 도입
		- 기하학적 무게 중심을 **수학화**하여 질량 가중 평균으로 표현
	- 다입자계에선 중력은 동일한 방향으로 작용한다고 가정을 기반함
		- 지구 근처, 중력가속도 $g$ 일정
	- 따라서 **무게 줌심 = 질량 중심**으로 보기 때문에 중력값이 상수값 취급되어 적용과정에서 큰 어려움은 없었음
	- 천체역학 뿐만 아니라 **강체 $\cdot$ 유체** 문제에도 적용 가능성을 제시함
	
- ##### d’Alembert(장 르 롱 달랑베르)
	- 뉴턴의 <공통 무게 중심> 을 < 질량 중심 >으로 일반화함
	- **'운동 법칙은 보편적이어야 한다'** 는 전제로 사고실험 + 수학적 정의를 사용함
	- **중력이 없는 공간도 상정할 수 있어야 한다**는 사고에 도달함
		- 천체들 사이의 상호작용, 자유낙하 운동 등을 생각하면서 '외력이 없을 때'의 상태를 일반적으로 다루고자 함
		- 직접 실험은 불가능 했지만, **수학적 사고실험**을 통해 도출
	- 외력이 끼치는 영향에 대한 확인
		- 뉴턴 제 2법칙
			- $F = ma$ 에서 $F = 0$ 이면 '질량 중심은 등속 운동'
			- 즉, **외력이 없는 경우**에도 **운동을 설명**할 **기준점**이 필요하다는 것을 **제시**
		- 기준점을 정리하면서 <무게 중심> 을 <질량 중심(centre de masse)> 로 설정
		- 강체 $\cdot$ 유체 $\cdot$ 다입자계 모두에 일관적으로 적용 가능해짐


#### 19세기 - 수식의 정식화

- 공식 제정
- **질량을 가중치로 둔 평균 위치**
	- 질량이 클수록 그 입자의 위치가 중심에 더 큰 영향을 끼친다
## $$\mathbf{R}(t) = \frac{\sum_{i=1}^{N} m_{i} \mathbf{r}_{i}  (t)}{\sum_{i=1}^{N} m_{i}}$$
- $\mathbf{R}(t)$ : 시간 $t\,$에서의 질량중심 좌표
- $m_i$​ : 입자 $i\,$의 질량
- $\mathbf{r}_i (t)$ : 입자 i의 위치 벡터 **(시간 or 위치 벡터 함수)**
- $\sum m_i​$ : 계 전체 질량

##### 질량이 보존되는 계면, 전체 질량을 $M$ 으로 정의하고, 질량 유출입이 있으면 $M(t)$ 로 정의한다 
## $$ M \stackrel{\mathrm{def}}{=} \sum_{i=1}^{N} m_{i} $$
분모 치환
##### $${\mathbf{R}(t) = \frac{\sum_{i=1}^{N} m_{i} \mathbf{r}_{i}(t)}{\sum_{i=1}^{N} m_{i}}} = {\frac{\sum_{i=1}^{N} m_{i} \mathbf{r}_{i}(t)}{M}} = {\Big(\frac{1}{M} \Big) \sum_{i=1}^{N} m_{i} \mathbf{r}_{i}(t)} = {\sum_{i=1}^{N} \frac{m_{i}\mathbf{r}_{i}(t)}{M}} = {\sum_{i=1}^{N} \frac{m_{i}}{M}\mathbf{r}_{i}(t)} $$
#### 가중치 정의 및 '단순'가중치 합 
## $$ w_{i} \stackrel{\mathrm{def}}{=} \frac{m_{i}}{M} $$
- '단순' 가중치 합 확인 v1 (평균에서 도출됐던 가중치의 합처럼 동일하게 1임을 알 수 있다)
## $$\sum_{i=1}^{N}w_{i} = \sum_{i=1}^{N} \frac{m_{i}}{M} = \sum_{i=1}^{N}\frac{m_{i}}{\sum_{i=1}^{N} m_{i}} = \frac{1}{\sum_{i=1}^{N} m_{i}} \sum_{i=1}^{N} m_{i} = 1 $$
- '단순' 가중치 합 확인 v2 (평균에서 도출됐던 가중치의 합처럼 동일하게 1임을 알 수 있다)
## $$\sum_{i=1}^{N}w_{i} = \sum_{i=1}^{N} \frac{m_{i}}{M} = \frac{1}{M} \sum_{i=1}^{N} m_{i} = \frac{1}{M} {M} = \frac{M}{M}=1 $$

가중치 치환
## $${\mathbf{R}(t)} = {\sum_{i=1}^{N} \frac{m_{i}}{M}\mathbf{r}_{i}(t)} = {\sum_{i=1}^{N} w_{i}\mathbf{r}_{i}(t)}$$

## 무게 중심 법칙

- 뉴턴의 운동법칙 $\vec{F} = m\vec{a}\,$와 결합
	- **외부 힘의 총합은 질량중심 운동에만 영향**을 미친다.
	- 내부에서 입자들이 서로 아무리 복잡하게 상호작용해도, 질량중심은 외력에 의해만 가속된다
	- 즉, **계 전체는 하나의 점질량처럼 거동한다**
##### $${\mathbf{R}(t)} = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\mathbf{r}_{i}(t)}\quad,\quad M\stackrel{\mathrm{def}}{=} \sum_{i=1}^{N} m_{i}\,(상수)$$
**위에서도 언급했든 $\mathbf{r}(t)$ 는 위치 벡터 함수이다** - ' input(t) -> 특정 시각의 위치 좌표' 를 반환

- $x(t)$ = 시간에 따른  $x$좌표
- $y(t)$ = 시간에 따른  $y$좌표
- $z(t)$ = 시간에 따른  $z$좌표
$$\mathbf{r}(t) = (x(t),y(t),z(t)) $$

[[미분#미분 공식]] 참고

시간에 따른 변화율을 알고 싶을 때

- 위치가 바뀌면 : **속도** (시간당 거리 이동의 증가량)
- 속도가 바뀌면 : **가속도** (시간당 속도의 증가량)

$$ 속도:\: \dot{\mathbf{r}}(t) = \frac{d\mathbf{r}(t)}{dt} = \mathbf{v}(t)\quad,\quad 가속도:\:\ddot{\mathbf{r}}(t) = \frac{d^{2}\mathbf{r}(t)}{dt^{2}} = \mathbf{a}(t) $$
뉴턴 제2법칙과 연결

- $\mathbf{F}$(t) = 힘(벡터)
- $m$ = 질량(스칼라)
- $\mathbf{r}(t)$ = 위치(벡터)
- $\mathbf{v}(t)$ = 속도(위치변화, 벡터) = $\dot{\mathbf{r}}(t)$
- $\mathbf{a}(t)$ = 가속도(속도변화, 벡터) = $\ddot{\mathbf{r}}(t)$
$$ \vec{F} = m\vec{a} \rightarrow \mathbf{F}(t)=m\mathbf{a}(t)$$

예시) $x(t)=t^{2},\:y(t)=0,\:z(t)=0$ 일 때,
$$위치 = \mathbf{r}(t)  = t^{2}$$

[[미분#미분 전개]] 참고
$속도(극한미분) = \dot{\mathbf{r}}(t) = \frac{d}{dt}\mathbf{r}(t) = \lim_{\Delta t \to 0} \frac{\mathbf{r}(t + \Delta t) - \mathbf{r}(t)}{\Delta t} =  \lim_{\Delta t \to 0} \frac{(t + \Delta t)^{2} - t^{2}}{\Delta t}$
$$ = \lim_{\Delta t \to 0} \frac{t^{2} + 2t \Delta t + (\Delta t)^{2} - t^{2}}{\Delta t} = \lim_{\Delta t \to 0} \frac{2t \Delta t + (\Delta t)^{2}}{\Delta t} = \lim_{\Delta t \to 0} (2t \Delta t) = 2t$$


$속도(미분 거듭제곱 공식) = \frac{d}{dt}t^{n} = nt^{n-1}$
$$ \dot{\mathbf{r}}(t) = \frac{d}{dt}\mathbf{r}(t) = \frac{d}{dt}t^{2} = 2t^{2-1} = 2t $$


$가속도(극한) = 미분(속도) = 미분(미분(위치))$
$$ \ddot{\mathbf{r}}(t) = \frac{d^{2}}{d^{2}t}\mathbf{r}(t) = \frac{d}{dt}\dot{\mathbf{r}}(t) = \frac{d}{dt} 2t = \lim_{\Delta \to 0} \frac{2(t + \Delta t) - 2t}{\Delta t} $$
$$ = \lim_{\Delta \to 0} \frac{2t + 2\Delta t - 2t}{\Delta t} = \lim_{\Delta \to 0} \frac{2\Delta t}{\Delta t} = 2$$
$가속도(미분 거듭제곱 공식) = \frac{d^{2}}{d^{2}t}t^{n} = (n-1)nt^{(n-1) - 1} = n(n-1)t^{n-2}$
$$\ddot{\mathbf{r}}(t) = \frac{d^{2}}{d^{2}t}r(t) = \frac{d^{2}}{d^{2}t}t^2 = (2 - 1)2t^{2-2} = 2t^{0} = 2$$


다시 본 내용으로 돌아와서...
### 위치의 1 $\cdot$ 2차 미분(속도, 가속도)
$$\dot{\mathbf{R}}(t) = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\dot{\mathbf{r}}_{i}(t)}\quad, \quad \ddot{\mathbf{R}}(t) = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\ddot{\mathbf{r}}_{i}(t)}$$
- 상수 $M$ 은 합과 무관하니 밖으로 빼기
$$\ddot{\mathbf{R}}(t) = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\ddot{\mathbf{r}}_{i}(t)} \rightarrow M\ddot{\mathbf{R}}(t) = {\sum_{i=1}^{N} m_{i}\ddot{\mathbf{r}}_{i}(t)}$$
### 각 입자에 <뉴턴 제2법칙> 적용
## $$m_{i}\ddot{\mathbf{r}}_{i}(t) = \mathbf{F}_{i}^{\text{(ext)}}(t) + \sum_{j \neq i} \mathbf{F}_{ij}(t)$$
- $\mathbf{F}_{i}^{\text{(ext)}}$ : 외력이 $i$ 에 주는 힘
- $\mathbf{F}_{ij}$ : $j$ 가 $i$ 에 주는 내부 힘  

치환
$$M\ddot{\mathbf{R}}(t) = \sum_{i=1}^{N} m_{i}\ddot{\mathbf{r}}_{i}(t) = \sum_{i = 1}^{N}\Bigg(\mathbf{F}_{i}^{(\mathbf{ext})} + \sum_{j \neq i} \mathbf{F}_{ij} \Bigg) = \sum_{i=1}^{N} \mathbf{{F}}_{i}^{(\mathrm{ext})}(t)\: +\: \sum_{i=1}^{N} \sum_{j \neq i}\mathbf{F}_{ij}(t)$$
- $F$ : 힘의 크기(스칼라)
- $\mathbf{F}$ : 힘 벡터
- $M=\sum_{i} m_{i}$ : 전체 질량
- $\mathbf{R}$ : 질량중심
- $\sum\mathbf{F}_{i}^{(\mathrm{ext})}$ : 외력의 합
	- ext 는 외부의 힘을 표기하는 단순 '레이블'

## 내부 힘의 상쇄 <뉴턴 제3법칙>

- 작용-반작용 : $\mathbf{F}_{ij} = -\mathbf{F}_{ji} \;\;\rightarrow\;\; \mathbf{F}_{ij} + \mathbf{F}_{ji} = 0$
	
- 이중합(중첩 루프)  $\sum_{i=1}^{N} \sum_{j \neq i}\mathbf{F}_{ij}$ 으로 $\mathbf{F}$ 에 대한 모든 힘들이 쌍으로 존재해 <작용-반작용> 처리로 전부 0


집합연산
$$D = \{(i,j)\; |\; 1 \leq i \leq N \;,\; 1 \leq j \leq N \;,\; j \neq i\}$$
- $i,j$ 가 1부터 $N$ 사이에 있고, 단 $j=i$ 인 경우는 뺀 모든 순서쌍의 집합
- $j=i$ 경우는 내부의 힘이 '스스로 반작용하는' 케이스라 애초에 성립이 안되기 때문에 예외 

집합분리 [[집합#서로소]] 참고
$$D_{1} = \{(i, j) \in D\; |\; i < j\}\quad ,\quad \{(i,j) \in D\; |\; i>j\} $$
$$D = D_{1}\; \dot\cup\; D_{2}\;\;\;(서로소집합)\quad,\quad |D_{1}| = |D_{2}|=\frac{N(N-1)}{2}$$
$$ \sum_{i=1}^{N} \sum_{j \neq i}\mathbf{F}_{ij} = \sum_{1 \leq i < j \leq N}(\mathbf{F}_{ij} + \mathbf{F}_{ji}) = \sum_{1 \leq i < j \leq N} 0\; =\; 0$$
## 최종
$$ M\ddot{\mathbf{R}}(t) = \sum_{i=1}^{N} m_{i}\ddot{\mathbf{r}}_{i}(t) = \sum_{i=1}^{N} \mathbf{{F}}_{i}^{(\mathrm{ext})}(t)\: +\: \sum_{i=1}^{N} \sum_{j \neq i}\mathbf{F}_{ij}(t) = \sum_{i=1}^{N} \mathbf{{F}}_{i}^{(\mathrm{ext})}(t)\: +\: 0 $$
$$ M\ddot{\mathbf{R}}(t) = \sum_{i=1}^{N} \mathbf{{F}}_{i}^{(\mathrm{ext})}(t) $$

## 질량 중심 정의식을 통해서 무게 중심 도출해보기

$${\mathbf{R}(t)} = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\mathbf{r}_{i}(t)} \rightarrow (미분:속도)\; {\dot{\mathbf{R}}(t)} = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\dot{\mathbf{r}}_{i}(t)} \rightarrow (미분:가속도)\; {\ddot{\mathbf{R}}(t)} = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\ddot{\mathbf{r}}_{i}(t)}$$
$${\ddot{\mathbf{R}}(t)} = \frac{1}{M}{\sum_{i=1}^{N} m_{i}\mathbf{a}_{i}(t)} \rightarrow M{\ddot{\mathbf{R}}(t)} = {\sum_{i=1}^{N} m_{i}\mathbf{a}_{i}(t)}$$
질량 x 가속도 = 힘
$F = ma$
$$ M{\ddot{\mathbf{R}}(t)} = {\sum_{i=1}^{N} m_{i}\mathbf{a}_{i}(t)} = {\sum_{i=1}^{N} \mathbf{F}_{i}^{(\text{ext})}(t)}$$
$$ M\ddot{\mathbf{R}}(t) = \sum_{i=1}^{N} \mathbf{{F}}_{i}^{(\mathrm{ext})}(t) $$
균일 중력장 -> 무게중심 = 질량중심
개별 중령작 -> 무게중심(외력) = 외부힘의 중심


다시 데이터의 평균으로 돌아와서
$${\Big(\frac{1}{M} \Big) \sum_{i=1}^{N} m_{i} \mathbf{r}_{i}(t)}\quad,\quad  M \stackrel{\mathrm{def}}{=} \sum_{i=1}^{N} m_{i} $$
- 데이터에는 질량이라는 물리적 가중치가 없기 때문에 $m=1$ 로 설정
	- $M$ 은 $(m=1)$ 의 전체합으로 $N$ 과 같다
	
- 데이터에 자체에는 시간적인 개념이 없기 때문에 $t$ 의 영향이 없으므로 위치 벡터 그 자체만 활용
	- $\mathbf{r}(t)$ 에서 시간 요소를 빼면 단순 위치 정보인 $r$ 이 도출되기 때문에, 이는 데이터에서 거리 값을 다루는 $x$ 와 같아진다
$${\Big(\frac{1}{M} \Big) \sum_{i=1}^{N} m_{i} \mathbf{r}_{i}(t)} = {\Big(\frac{1}{\sum m_{i}} \Big) \sum_{i=1}^{N} m_{i} r_{i}} = {\Big(\frac{1}{N} \Big) \sum_{i=1}^{N} 1 \cdot r_{i}} = {\Big(\frac{1}{N} \Big) \sum_{i=1}^{N} r_{i}} = {\Big(\frac{1}{N} \Big) \sum_{i=1}^{N} x}$$

##### 최종적으로 데이터의 평균을 구하는 식과 같아짐을 볼 수 있다

- 느낌점
	- 단순하게 평균식을 활용했을 때 몰랐던 도출 과정의 원리를 이해할 수 있게 됨
	- 단순 데이터의 식도 물리학의 연산 과정에서 비롯될 수 있음을 이해하게 됨
	- 우리가 사용한 단순식이 복잡한 식을 가다듬어 활용할 수 있게 된 것을 알게 됨
	- 원리를 이해하는 건 역시 뇌에 과부하가 된다는 것을 다시 한 번 깨닫게 됨